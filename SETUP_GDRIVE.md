## Google Drive 連携のための初期設定ガイド

このシステムを使って、計測データをあなたの Google Drive に自動アップロードするためには、Google から「このアプリを使ってもいいよ」という許可証（client_secret.json）をもらう必要があります。

少し手順が多いですが、一度設定すればずっと使えます。以下の手順通りに進めてください。

### ステップ 1: Google Cloud プロジェクトの作成

1.  PCのブラウザで Google Cloud Console にアクセスします。

2. Google アカウントでログインしてください。

3. 画面左上のロゴの横にある 「プロジェクトの選択」（または現在のプロジェクト名）をクリックします。

4. 開いたウィンドウの右上にある 「新しいプロジェクト」 をクリックします。

5. プロジェクト名 に好きな名前（例: GymkhanaTimer）を入力し、「作成」 をクリックします。

6. しばらく待つと通知が出るので、「プロジェクトを選択」 をクリックして、今作ったプロジェクトの画面に移動します。

### ステップ 2: Google Drive API の有効化

1. 左上のメニュー（三本線）をクリックし、「API とサービス」 > 「ライブラリ」 を選択します。

2. 検索バーに Google Drive API と入力して検索します。

3. 検索結果から 「Google Drive API」 をクリックします。

4. 青い 「有効にする」 ボタンをクリックします。

### ステップ 3: 同意画面の設定

 初めて API を使う場合、アプリの名前などを設定する必要があります。

1. 左側のメニューから 「OAuth 同意画面」 をクリックします。

2. User Type で 「外部」 を選択し、「作成」 をクリックします。

3. アプリ情報 を入力します（必須項目だけでOK）：

・アプリ名: GymkhanaTimer など
・ユーザーサポートメール: 自分のメールアドレスを選択
・デベロッパーの連絡先情報: 自分のメールアドレスを入力

4. 一番下の 「保存して次へ」 をクリックします。

5. 「スコープ」 画面は何もせず 「保存して次へ」。

6. 「テストユーザー」 画面で 「+ ADD USERS」 をクリックし、自分の Google アドレス を入力して追加します。

※これを忘れると、認証時にエラーになります！

7. 「保存して次へ」 をクリックし、最後に 「ダッシュボードに戻る」 をクリックします。

### ステップ 4: 認証ファイル (client_secret.json) の取得

いよいよ許可証を発行します。

1. 左側のメニューから 「認証情報」 をクリックします。

2. 画面上の 「+ 認証情報を作成」 をクリックし、「OAuth クライアント ID」 を選択します。

3. アプリケーションの種類 で 「デスクトップ アプリ」 を選択します。

4. 名前はそのままで 「作成」 をクリックします。

5. 「OAuth クライアントを作成しました」という画面が出ます。

  右下にある 「JSON をダウンロード」（下矢印のアイコン）をクリックします。

6.ダウンロードされたファイル（client_secret_xxxx...json）を、client_secret.json という名前に変更します。

### ステップ 5: ファイルの配置

1. リネームした client_secret.json を、このシステムが入っているフォルダ（Launcher.bat がある場所）にコピーします。

※もし bin フォルダがある場合は、その中に入れてもOKです。

これで準備完了です！
ランチャーから各機能を起動し、初回のみブラウザでのログインを行ってください。

### 困ったときは？

Q. 「認証エラー」が出る

A. client_secret.json が正しい場所に置かれているか確認してください。また、ステップ3で自分のアドレスを「テストユーザー」に追加したか確認してください。

Q. 「このアプリは Google で確認されていません」と出る

A. あなた自身が作ったアプリ（テスト版）なので、安全です。「詳細」→「(安全ではないページ)に移動」をクリックして進めてください。
